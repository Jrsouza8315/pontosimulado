var Nt=t=>{throw TypeError(t)};var st=(t,e,s)=>e.has(t)||Nt("Cannot "+s);var n=(t,e,s)=>(st(t,e,"read from private field"),s?s.call(t):e.get(t)),m=(t,e,s)=>e.has(t)?Nt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),d=(t,e,s,r)=>(st(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),b=(t,e,s)=>(st(t,e,"access private method"),s);var We=(t,e,s,r)=>({set _(a){d(t,e,a,s)},get _(){return n(t,e,r)}});import{r as C,a as os,u as bt,L as Z,O as ls,R as us,b as me,N as rt,d as cs,B as hs}from"./vendor-BH1tw11u.js";import{c as ds}from"./supabase-DMREBtvn.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();var Vt={exports:{}},et={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=C,ms=Symbol.for("react.element"),ps=Symbol.for("react.fragment"),ys=Object.prototype.hasOwnProperty,xs=fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vs={key:!0,ref:!0,__self:!0,__source:!0};function zt(t,e,s){var r,a={},o=null,l=null;s!==void 0&&(o=""+s),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)ys.call(e,r)&&!vs.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)a[r]===void 0&&(a[r]=e[r]);return{$$typeof:ms,type:t,key:o,ref:l,props:a,_owner:xs.current}}et.Fragment=ps;et.jsx=zt;et.jsxs=zt;Vt.exports=et;var i=Vt.exports,nt={},Ot=os;nt.createRoot=Ot.createRoot,nt.hydrateRoot=Ot.hydrateRoot;var Le=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},we=typeof window>"u"||"Deno"in globalThis;function _(){}function gs(t,e){return typeof t=="function"?t(e):t}function at(t){return typeof t=="number"&&t>=0&&t!==1/0}function $t(t,e){return Math.max(t+(e||0)-Date.now(),0)}function de(t,e){return typeof t=="function"?t(e):t}function V(t,e){return typeof t=="function"?t(e):t}function Pt(t,e){const{type:s="all",exact:r,fetchStatus:a,predicate:o,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==jt(l,e.options))return!1}else if(!Be(e.queryKey,l))return!1}if(s!=="all"){const u=e.isActive();if(s==="active"&&!u||s==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||a&&a!==e.state.fetchStatus||o&&!o(e))}function Rt(t,e){const{exact:s,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(s){if(Se(e.options.mutationKey)!==Se(o))return!1}else if(!Be(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function jt(t,e){return((e==null?void 0:e.queryKeyHashFn)||Se)(t)}function Se(t){return JSON.stringify(t,(e,s)=>ot(s)?Object.keys(s).sort().reduce((r,a)=>(r[a]=s[a],r),{}):s)}function Be(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>Be(t[s],e[s])):!1}function Wt(t,e){if(t===e)return t;const s=Ft(t)&&Ft(e);if(s||ot(t)&&ot(e)){const r=s?t:Object.keys(t),a=r.length,o=s?e:Object.keys(e),l=o.length,c=s?[]:{},u=new Set(r);let h=0;for(let p=0;p<l;p++){const f=s?p:o[p];(!s&&u.has(f)||s)&&t[f]===void 0&&e[f]===void 0?(c[f]=void 0,h++):(c[f]=Wt(t[f],e[f]),c[f]===t[f]&&t[f]!==void 0&&h++)}return a===l&&h===a?t:c}return e}function Ye(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Ft(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ot(t){if(!Et(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Et(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Et(t){return Object.prototype.toString.call(t)==="[object Object]"}function bs(t){return new Promise(e=>{setTimeout(e,t)})}function lt(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Wt(t,e):e}function js(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function Cs(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var Ct=Symbol();function Xt(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ct?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Jt(t,e){return typeof t=="function"?t(...e):!!t}var pe,se,Oe,It,ws=(It=class extends Le{constructor(){super();m(this,pe);m(this,se);m(this,Oe);d(this,Oe,e=>{if(!we&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){n(this,se)||this.setEventListener(n(this,Oe))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,se))==null||e.call(this),d(this,se,void 0))}setEventListener(e){var s;d(this,Oe,e),(s=n(this,se))==null||s.call(this),d(this,se,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){n(this,pe)!==e&&(d(this,pe,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof n(this,pe)=="boolean"?n(this,pe):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},pe=new WeakMap,se=new WeakMap,Oe=new WeakMap,It),wt=new ws,Pe,re,Re,_t,Ss=(_t=class extends Le{constructor(){super();m(this,Pe,!0);m(this,re);m(this,Re);d(this,Re,e=>{if(!we&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){n(this,re)||this.setEventListener(n(this,Re))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,re))==null||e.call(this),d(this,re,void 0))}setEventListener(e){var s;d(this,Re,e),(s=n(this,re))==null||s.call(this),d(this,re,e(this.setOnline.bind(this)))}setOnline(e){n(this,Pe)!==e&&(d(this,Pe,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return n(this,Pe)}},Pe=new WeakMap,re=new WeakMap,Re=new WeakMap,_t),Ze=new Ss;function ut(){let t,e;const s=new Promise((a,o)=>{t=a,e=o});s.status="pending",s.catch(()=>{});function r(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},s.reject=a=>{r({status:"rejected",reason:a}),e(a)},s}function Ns(t){return Math.min(1e3*2**t,3e4)}function Yt(t){return(t??"online")==="online"?Ze.isOnline():!0}var Zt=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function it(t){return t instanceof Zt}function es(t){let e=!1,s=0,r=!1,a;const o=ut(),l=v=>{var g;r||(y(new Zt(v)),(g=t.abort)==null||g.call(t))},c=()=>{e=!0},u=()=>{e=!1},h=()=>wt.isFocused()&&(t.networkMode==="always"||Ze.isOnline())&&t.canRun(),p=()=>Yt(t.networkMode)&&t.canRun(),f=v=>{var g;r||(r=!0,(g=t.onSuccess)==null||g.call(t,v),a==null||a(),o.resolve(v))},y=v=>{var g;r||(r=!0,(g=t.onError)==null||g.call(t,v),a==null||a(),o.reject(v))},x=()=>new Promise(v=>{var g;a=P=>{(r||h())&&v(P)},(g=t.onPause)==null||g.call(t)}).then(()=>{var v;a=void 0,r||(v=t.onContinue)==null||v.call(t)}),S=()=>{if(r)return;let v;const g=s===0?t.initialPromise:void 0;try{v=g??t.fn()}catch(P){v=Promise.reject(P)}Promise.resolve(v).then(f).catch(P=>{var K;if(r)return;const q=t.retry??(we?0:3),N=t.retryDelay??Ns,D=typeof N=="function"?N(s,P):N,k=q===!0||typeof q=="number"&&s<q||typeof q=="function"&&q(s,P);if(e||!k){y(P);return}s++,(K=t.onFail)==null||K.call(t,s,P),bs(D).then(()=>h()?void 0:x()).then(()=>{e?y(P):S()})})};return{promise:o,cancel:l,continue:()=>(a==null||a(),o),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?S():x().then(S),o)}}var Os=t=>setTimeout(t,0);function Ps(){let t=[],e=0,s=c=>{c()},r=c=>{c()},a=Os;const o=c=>{e?t.push(c):a(()=>{s(c)})},l=()=>{const c=t;t=[],c.length&&a(()=>{r(()=>{c.forEach(u=>{s(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||l()}return u},batchCalls:c=>(...u)=>{o(()=>{c(...u)})},schedule:o,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{a=c}}}var E=Ps(),ye,Tt,ts=(Tt=class{constructor(){m(this,ye)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),at(this.gcTime)&&d(this,ye,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(we?1/0:5*60*1e3))}clearGcTimeout(){n(this,ye)&&(clearTimeout(n(this,ye)),d(this,ye,void 0))}},ye=new WeakMap,Tt),Fe,Ee,B,xe,Q,He,ve,H,X,Lt,Rs=(Lt=class extends ts{constructor(e){super();m(this,H);m(this,Fe);m(this,Ee);m(this,B);m(this,xe);m(this,Q);m(this,He);m(this,ve);d(this,ve,!1),d(this,He,e.defaultOptions),this.setOptions(e.options),this.observers=[],d(this,xe,e.client),d(this,B,n(this,xe).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,d(this,Fe,Fs(this.options)),this.state=e.state??n(this,Fe),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=n(this,Q))==null?void 0:e.promise}setOptions(e){this.options={...n(this,He),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&n(this,B).remove(this)}setData(e,s){const r=lt(this.state.data,e,this.options);return b(this,H,X).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){b(this,H,X).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,a;const s=(r=n(this,Q))==null?void 0:r.promise;return(a=n(this,Q))==null||a.cancel(e),s?s.then(_).catch(_):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(n(this,Fe))}isActive(){return this.observers.some(e=>V(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ct||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>de(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!$t(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=n(this,Q))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=n(this,Q))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),n(this,B).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(n(this,Q)&&(n(this,ve)?n(this,Q).cancel({revert:!0}):n(this,Q).cancelRetry()),this.scheduleGc()),n(this,B).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||b(this,H,X).call(this,{type:"invalidate"})}fetch(e,s){var h,p,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(n(this,Q))return n(this,Q).continueRetry(),n(this,Q).promise}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(x=>x.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,a=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(d(this,ve,!0),r.signal)})},o=()=>{const y=Xt(this.options,s),S=(()=>{const v={client:n(this,xe),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return d(this,ve,!1),this.options.persister?this.options.persister(y,S,this):y(S)},c=(()=>{const y={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:n(this,xe),state:this.state,fetchFn:o};return a(y),y})();(h=this.options.behavior)==null||h.onFetch(c,this),d(this,Ee,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&b(this,H,X).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta});const u=y=>{var x,S,v,g;it(y)&&y.silent||b(this,H,X).call(this,{type:"error",error:y}),it(y)||((S=(x=n(this,B).config).onError)==null||S.call(x,y,this),(g=(v=n(this,B).config).onSettled)==null||g.call(v,this.state.data,y,this)),this.scheduleGc()};return d(this,Q,es({initialPromise:s==null?void 0:s.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:y=>{var x,S,v,g;if(y===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(P){u(P);return}(S=(x=n(this,B).config).onSuccess)==null||S.call(x,y,this),(g=(v=n(this,B).config).onSettled)==null||g.call(v,y,this.state.error,this),this.scheduleGc()},onError:u,onFail:(y,x)=>{b(this,H,X).call(this,{type:"failed",failureCount:y,error:x})},onPause:()=>{b(this,H,X).call(this,{type:"pause"})},onContinue:()=>{b(this,H,X).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),n(this,Q).start()}},Fe=new WeakMap,Ee=new WeakMap,B=new WeakMap,xe=new WeakMap,Q=new WeakMap,He=new WeakMap,ve=new WeakMap,H=new WeakSet,X=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ss(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return it(a)&&a.revert&&n(this,Ee)?{...n(this,Ee),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),E.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),n(this,B).notify({query:this,type:"updated",action:e})})},Lt);function ss(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Yt(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Fs(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var z,Ut,Es=(Ut=class extends Le{constructor(e={}){super();m(this,z);this.config=e,d(this,z,new Map)}build(e,s,r){const a=s.queryKey,o=s.queryHash??jt(a,s);let l=this.get(o);return l||(l=new Rs({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(l)),l}add(e){n(this,z).has(e.queryHash)||(n(this,z).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=n(this,z).get(e.queryHash);s&&(e.destroy(),s===e&&n(this,z).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){E.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return n(this,z).get(e)}getAll(){return[...n(this,z).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Pt(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>Pt(e,r)):s}notify(e){E.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){E.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){E.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},z=new WeakMap,Ut),$,M,ge,W,te,kt,Ds=(kt=class extends ts{constructor(e){super();m(this,W);m(this,$);m(this,M);m(this,ge);this.mutationId=e.mutationId,d(this,M,e.mutationCache),d(this,$,[]),this.state=e.state||rs(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){n(this,$).includes(e)||(n(this,$).push(e),this.clearGcTimeout(),n(this,M).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){d(this,$,n(this,$).filter(s=>s!==e)),this.scheduleGc(),n(this,M).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){n(this,$).length||(this.state.status==="pending"?this.scheduleGc():n(this,M).remove(this))}continue(){var e;return((e=n(this,ge))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,u,h,p,f,y,x,S,v,g,P,q,N,D,k,K,Ue,A;const s=()=>{b(this,W,te).call(this,{type:"continue"})};d(this,ge,es({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,F)=>{b(this,W,te).call(this,{type:"failed",failureCount:R,error:F})},onPause:()=>{b(this,W,te).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>n(this,M).canRun(this)}));const r=this.state.status==="pending",a=!n(this,ge).canStart();try{if(r)s();else{b(this,W,te).call(this,{type:"pending",variables:e,isPaused:a}),await((l=(o=n(this,M).config).onMutate)==null?void 0:l.call(o,e,this));const F=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e));F!==this.state.context&&b(this,W,te).call(this,{type:"pending",context:F,variables:e,isPaused:a})}const R=await n(this,ge).start();return await((p=(h=n(this,M).config).onSuccess)==null?void 0:p.call(h,R,e,this.state.context,this)),await((y=(f=this.options).onSuccess)==null?void 0:y.call(f,R,e,this.state.context)),await((S=(x=n(this,M).config).onSettled)==null?void 0:S.call(x,R,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,R,null,e,this.state.context)),b(this,W,te).call(this,{type:"success",data:R}),R}catch(R){try{throw await((q=(P=n(this,M).config).onError)==null?void 0:q.call(P,R,e,this.state.context,this)),await((D=(N=this.options).onError)==null?void 0:D.call(N,R,e,this.state.context)),await((K=(k=n(this,M).config).onSettled)==null?void 0:K.call(k,void 0,R,this.state.variables,this.state.context,this)),await((A=(Ue=this.options).onSettled)==null?void 0:A.call(Ue,void 0,R,e,this.state.context)),R}finally{b(this,W,te).call(this,{type:"error",error:R})}}finally{n(this,M).runNext(this)}}},$=new WeakMap,M=new WeakMap,ge=new WeakMap,W=new WeakSet,te=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),E.batch(()=>{n(this,$).forEach(r=>{r.onMutationUpdate(e)}),n(this,M).notify({mutation:this,type:"updated",action:e})})},kt);function rs(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var J,G,Ge,Bt,Qs=(Bt=class extends Le{constructor(e={}){super();m(this,J);m(this,G);m(this,Ge);this.config=e,d(this,J,new Set),d(this,G,new Map),d(this,Ge,0)}build(e,s,r){const a=new Ds({mutationCache:this,mutationId:++We(this,Ge)._,options:e.defaultMutationOptions(s),state:r});return this.add(a),a}add(e){n(this,J).add(e);const s=Xe(e);if(typeof s=="string"){const r=n(this,G).get(s);r?r.push(e):n(this,G).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(n(this,J).delete(e)){const s=Xe(e);if(typeof s=="string"){const r=n(this,G).get(s);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&n(this,G).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Xe(e);if(typeof s=="string"){const r=n(this,G).get(s),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const s=Xe(e);if(typeof s=="string"){const a=(r=n(this,G).get(s))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){E.batch(()=>{n(this,J).forEach(e=>{this.notify({type:"removed",mutation:e})}),n(this,J).clear(),n(this,G).clear()})}getAll(){return Array.from(n(this,J))}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Rt(s,r))}findAll(e={}){return this.getAll().filter(s=>Rt(e,s))}notify(e){E.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return E.batch(()=>Promise.all(e.map(s=>s.continue().catch(_))))}},J=new WeakMap,G=new WeakMap,Ge=new WeakMap,Bt);function Xe(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Dt(t){return{onFetch:(e,s)=>{var p,f,y,x,S;const r=e.options,a=(y=(f=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:f.fetchMore)==null?void 0:y.direction,o=((x=e.state.data)==null?void 0:x.pages)||[],l=((S=e.state.data)==null?void 0:S.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let v=!1;const g=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},P=Xt(e.options,e.fetchOptions),q=async(N,D,k)=>{if(v)return Promise.reject();if(D==null&&N.pages.length)return Promise.resolve(N);const Ue=(()=>{const fe={client:e.client,queryKey:e.queryKey,pageParam:D,direction:k?"backward":"forward",meta:e.options.meta};return g(fe),fe})(),A=await P(Ue),{maxPages:R}=e.options,F=k?Cs:js;return{pages:F(N.pages,A,R),pageParams:F(N.pageParams,D,R)}};if(a&&o.length){const N=a==="backward",D=N?qs:Qt,k={pages:o,pageParams:l},K=D(r,k);c=await q(k,K,N)}else{const N=t??o.length;do{const D=u===0?l[0]??r.initialPageParam:Qt(r,c);if(u>0&&D==null)break;c=await q(c,D),u++}while(u<N)}return c};e.options.persister?e.fetchFn=()=>{var v,g;return(g=(v=e.options).persister)==null?void 0:g.call(v,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=h}}}function Qt(t,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,s[r],s):void 0}function qs(t,{pages:e,pageParams:s}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s):void 0}var O,ie,ne,De,Qe,ae,qe,Ae,Kt,As=(Kt=class{constructor(t={}){m(this,O);m(this,ie);m(this,ne);m(this,De);m(this,Qe);m(this,ae);m(this,qe);m(this,Ae);d(this,O,t.queryCache||new Es),d(this,ie,t.mutationCache||new Qs),d(this,ne,t.defaultOptions||{}),d(this,De,new Map),d(this,Qe,new Map),d(this,ae,0)}mount(){We(this,ae)._++,n(this,ae)===1&&(d(this,qe,wt.subscribe(async t=>{t&&(await this.resumePausedMutations(),n(this,O).onFocus())})),d(this,Ae,Ze.subscribe(async t=>{t&&(await this.resumePausedMutations(),n(this,O).onOnline())})))}unmount(){var t,e;We(this,ae)._--,n(this,ae)===0&&((t=n(this,qe))==null||t.call(this),d(this,qe,void 0),(e=n(this,Ae))==null||e.call(this),d(this,Ae,void 0))}isFetching(t){return n(this,O).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return n(this,ie).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=n(this,O).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=n(this,O).build(this,e),r=s.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(de(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return n(this,O).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),a=n(this,O).get(r.queryHash),o=a==null?void 0:a.state.data,l=gs(e,o);if(l!==void 0)return n(this,O).build(this,r).setData(l,{...s,manual:!0})}setQueriesData(t,e,s){return E.batch(()=>n(this,O).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=n(this,O).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=n(this,O);E.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=n(this,O);return E.batch(()=>(s.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},r=E.batch(()=>n(this,O).findAll(t).map(a=>a.cancel(s)));return Promise.all(r).then(_).catch(_)}invalidateQueries(t,e={}){return E.batch(()=>(n(this,O).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},r=E.batch(()=>n(this,O).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,s);return s.throwOnError||(o=o.catch(_)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(_)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=n(this,O).build(this,e);return s.isStaleByTime(de(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_).catch(_)}fetchInfiniteQuery(t){return t.behavior=Dt(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_).catch(_)}ensureInfiniteQueryData(t){return t.behavior=Dt(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ze.isOnline()?n(this,ie).resumePausedMutations():Promise.resolve()}getQueryCache(){return n(this,O)}getMutationCache(){return n(this,ie)}getDefaultOptions(){return n(this,ne)}setDefaultOptions(t){d(this,ne,t)}setQueryDefaults(t,e){n(this,De).set(Se(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...n(this,De).values()],s={};return e.forEach(r=>{Be(t,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(t,e){n(this,Qe).set(Se(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...n(this,Qe).values()],s={};return e.forEach(r=>{Be(t,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...n(this,ne).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=jt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ct&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...n(this,ne).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){n(this,O).clear(),n(this,ie).clear()}},O=new WeakMap,ie=new WeakMap,ne=new WeakMap,De=new WeakMap,Qe=new WeakMap,ae=new WeakMap,qe=new WeakMap,Ae=new WeakMap,Kt),L,j,Ve,I,be,Me,oe,le,ze,Ie,_e,je,Ce,ue,Te,w,ke,ct,ht,dt,ft,mt,pt,yt,is,Ht,Ms=(Ht=class extends Le{constructor(e,s){super();m(this,w);m(this,L);m(this,j);m(this,Ve);m(this,I);m(this,be);m(this,Me);m(this,oe);m(this,le);m(this,ze);m(this,Ie);m(this,_e);m(this,je);m(this,Ce);m(this,ue);m(this,Te,new Set);this.options=s,d(this,L,e),d(this,le,null),d(this,oe,ut()),this.options.experimental_prefetchInRender||n(this,oe).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(n(this,j).addObserver(this),qt(n(this,j),this.options)?b(this,w,ke).call(this):this.updateResult(),b(this,w,ft).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xt(n(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xt(n(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,b(this,w,mt).call(this),b(this,w,pt).call(this),n(this,j).removeObserver(this)}setOptions(e){const s=this.options,r=n(this,j);if(this.options=n(this,L).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof V(this.options.enabled,n(this,j))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");b(this,w,yt).call(this),n(this,j).setOptions(this.options),s._defaulted&&!Ye(this.options,s)&&n(this,L).getQueryCache().notify({type:"observerOptionsUpdated",query:n(this,j),observer:this});const a=this.hasListeners();a&&At(n(this,j),r,this.options,s)&&b(this,w,ke).call(this),this.updateResult(),a&&(n(this,j)!==r||V(this.options.enabled,n(this,j))!==V(s.enabled,n(this,j))||de(this.options.staleTime,n(this,j))!==de(s.staleTime,n(this,j)))&&b(this,w,ct).call(this);const o=b(this,w,ht).call(this);a&&(n(this,j)!==r||V(this.options.enabled,n(this,j))!==V(s.enabled,n(this,j))||o!==n(this,ue))&&b(this,w,dt).call(this,o)}getOptimisticResult(e){const s=n(this,L).getQueryCache().build(n(this,L),e),r=this.createResult(s,e);return _s(this,r)&&(d(this,I,r),d(this,Me,this.options),d(this,be,n(this,j).state)),r}getCurrentResult(){return n(this,I)}trackResult(e,s){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),s==null||s(a),Reflect.get(r,a))})}trackProp(e){n(this,Te).add(e)}getCurrentQuery(){return n(this,j)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=n(this,L).defaultQueryOptions(e),r=n(this,L).getQueryCache().build(n(this,L),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(e){return b(this,w,ke).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),n(this,I)))}createResult(e,s){var R;const r=n(this,j),a=this.options,o=n(this,I),l=n(this,be),c=n(this,Me),h=e!==r?e.state:n(this,Ve),{state:p}=e;let f={...p},y=!1,x;if(s._optimisticResults){const F=this.hasListeners(),fe=!F&&qt(e,s),Ne=F&&At(e,r,s,a);(fe||Ne)&&(f={...f,...ss(p.data,e.options)}),s._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:S,errorUpdatedAt:v,status:g}=f;x=f.data;let P=!1;if(s.placeholderData!==void 0&&x===void 0&&g==="pending"){let F;o!=null&&o.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData)?(F=o.data,P=!0):F=typeof s.placeholderData=="function"?s.placeholderData((R=n(this,_e))==null?void 0:R.state.data,n(this,_e)):s.placeholderData,F!==void 0&&(g="success",x=lt(o==null?void 0:o.data,F,s),y=!0)}if(s.select&&x!==void 0&&!P)if(o&&x===(l==null?void 0:l.data)&&s.select===n(this,ze))x=n(this,Ie);else try{d(this,ze,s.select),x=s.select(x),x=lt(o==null?void 0:o.data,x,s),d(this,Ie,x),d(this,le,null)}catch(F){d(this,le,F)}n(this,le)&&(S=n(this,le),x=n(this,Ie),v=Date.now(),g="error");const q=f.fetchStatus==="fetching",N=g==="pending",D=g==="error",k=N&&q,K=x!==void 0,A={status:g,fetchStatus:f.fetchStatus,isPending:N,isSuccess:g==="success",isError:D,isInitialLoading:k,isLoading:k,data:x,dataUpdatedAt:f.dataUpdatedAt,error:S,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>h.dataUpdateCount||f.errorUpdateCount>h.errorUpdateCount,isFetching:q,isRefetching:q&&!N,isLoadingError:D&&!K,isPaused:f.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:D&&K,isStale:St(e,s),refetch:this.refetch,promise:n(this,oe)};if(this.options.experimental_prefetchInRender){const F=$e=>{A.status==="error"?$e.reject(A.error):A.data!==void 0&&$e.resolve(A.data)},fe=()=>{const $e=d(this,oe,A.promise=ut());F($e)},Ne=n(this,oe);switch(Ne.status){case"pending":e.queryHash===r.queryHash&&F(Ne);break;case"fulfilled":(A.status==="error"||A.data!==Ne.value)&&fe();break;case"rejected":(A.status!=="error"||A.error!==Ne.reason)&&fe();break}}return A}updateResult(){const e=n(this,I),s=this.createResult(n(this,j),this.options);if(d(this,be,n(this,j).state),d(this,Me,this.options),n(this,be).data!==void 0&&d(this,_e,n(this,j)),Ye(s,e))return;d(this,I,s);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!n(this,Te).size)return!0;const l=new Set(o??n(this,Te));return this.options.throwOnError&&l.add("error"),Object.keys(n(this,I)).some(c=>{const u=c;return n(this,I)[u]!==e[u]&&l.has(u)})};b(this,w,is).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&b(this,w,ft).call(this)}},L=new WeakMap,j=new WeakMap,Ve=new WeakMap,I=new WeakMap,be=new WeakMap,Me=new WeakMap,oe=new WeakMap,le=new WeakMap,ze=new WeakMap,Ie=new WeakMap,_e=new WeakMap,je=new WeakMap,Ce=new WeakMap,ue=new WeakMap,Te=new WeakMap,w=new WeakSet,ke=function(e){b(this,w,yt).call(this);let s=n(this,j).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(_)),s},ct=function(){b(this,w,mt).call(this);const e=de(this.options.staleTime,n(this,j));if(we||n(this,I).isStale||!at(e))return;const r=$t(n(this,I).dataUpdatedAt,e)+1;d(this,je,setTimeout(()=>{n(this,I).isStale||this.updateResult()},r))},ht=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(n(this,j)):this.options.refetchInterval)??!1},dt=function(e){b(this,w,pt).call(this),d(this,ue,e),!(we||V(this.options.enabled,n(this,j))===!1||!at(n(this,ue))||n(this,ue)===0)&&d(this,Ce,setInterval(()=>{(this.options.refetchIntervalInBackground||wt.isFocused())&&b(this,w,ke).call(this)},n(this,ue)))},ft=function(){b(this,w,ct).call(this),b(this,w,dt).call(this,b(this,w,ht).call(this))},mt=function(){n(this,je)&&(clearTimeout(n(this,je)),d(this,je,void 0))},pt=function(){n(this,Ce)&&(clearInterval(n(this,Ce)),d(this,Ce,void 0))},yt=function(){const e=n(this,L).getQueryCache().build(n(this,L),this.options);if(e===n(this,j))return;const s=n(this,j);d(this,j,e),d(this,Ve,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},is=function(e){E.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(n(this,I))}),n(this,L).getQueryCache().notify({query:n(this,j),type:"observerResultsUpdated"})})},Ht);function Is(t,e){return V(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qt(t,e){return Is(t,e)||t.state.data!==void 0&&xt(t,e,e.refetchOnMount)}function xt(t,e,s){if(V(e.enabled,t)!==!1&&de(e.staleTime,t)!=="static"){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&St(t,e)}return!1}function At(t,e,s,r){return(t!==e||V(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&St(t,s)}function St(t,e){return V(e.enabled,t)!==!1&&t.isStaleByTime(de(e.staleTime,t))}function _s(t,e){return!Ye(t.getCurrentResult(),e)}var ce,he,U,Y,ee,Je,vt,Gt,Ts=(Gt=class extends Le{constructor(s,r){super();m(this,ee);m(this,ce);m(this,he);m(this,U);m(this,Y);d(this,ce,s),this.setOptions(r),this.bindMethods(),b(this,ee,Je).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var a;const r=this.options;this.options=n(this,ce).defaultMutationOptions(s),Ye(this.options,r)||n(this,ce).getMutationCache().notify({type:"observerOptionsUpdated",mutation:n(this,U),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Se(r.mutationKey)!==Se(this.options.mutationKey)?this.reset():((a=n(this,U))==null?void 0:a.state.status)==="pending"&&n(this,U).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=n(this,U))==null||s.removeObserver(this)}onMutationUpdate(s){b(this,ee,Je).call(this),b(this,ee,vt).call(this,s)}getCurrentResult(){return n(this,he)}reset(){var s;(s=n(this,U))==null||s.removeObserver(this),d(this,U,void 0),b(this,ee,Je).call(this),b(this,ee,vt).call(this)}mutate(s,r){var a;return d(this,Y,r),(a=n(this,U))==null||a.removeObserver(this),d(this,U,n(this,ce).getMutationCache().build(n(this,ce),this.options)),n(this,U).addObserver(this),n(this,U).execute(s)}},ce=new WeakMap,he=new WeakMap,U=new WeakMap,Y=new WeakMap,ee=new WeakSet,Je=function(){var r;const s=((r=n(this,U))==null?void 0:r.state)??rs();d(this,he,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},vt=function(s){E.batch(()=>{var r,a,o,l,c,u,h,p;if(n(this,Y)&&this.hasListeners()){const f=n(this,he).variables,y=n(this,he).context;(s==null?void 0:s.type)==="success"?((a=(r=n(this,Y)).onSuccess)==null||a.call(r,s.data,f,y),(l=(o=n(this,Y)).onSettled)==null||l.call(o,s.data,null,f,y)):(s==null?void 0:s.type)==="error"&&((u=(c=n(this,Y)).onError)==null||u.call(c,s.error,f,y),(p=(h=n(this,Y)).onSettled)==null||p.call(h,void 0,s.error,f,y))}this.listeners.forEach(f=>{f(n(this,he))})})},Gt),ns=C.createContext(void 0),tt=t=>{const e=C.useContext(ns);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ls=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(ns.Provider,{value:t,children:e})),as=C.createContext(!1),Us=()=>C.useContext(as);as.Provider;function ks(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Bs=C.createContext(ks()),Ks=()=>C.useContext(Bs),Hs=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Gs=t=>{C.useEffect(()=>{t.clearReset()},[t])},Vs=({result:t,errorResetBoundary:e,throwOnError:s,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||Jt(s,[t.error,r])),zs=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...r)=>e(s(...r)):e(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},$s=(t,e)=>t.isLoading&&t.isFetching&&!e,Ws=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Mt=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Xs(t,e,s){var f,y,x,S,v;const r=Us(),a=Ks(),o=tt(),l=o.defaultQueryOptions(t);(y=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||y.call(f,l),l._optimisticResults=r?"isRestoring":"optimistic",zs(l),Hs(l,a),Gs(a);const c=!o.getQueryCache().get(l.queryHash),[u]=C.useState(()=>new e(o,l)),h=u.getOptimisticResult(l),p=!r&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(g=>{const P=p?u.subscribe(E.batchCalls(g)):_;return u.updateResult(),P},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),C.useEffect(()=>{u.setOptions(l)},[l,u]),Ws(l,h))throw Mt(l,u,a);if(Vs({result:h,errorResetBoundary:a,throwOnError:l.throwOnError,query:o.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw h.error;if((S=(x=o.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||S.call(x,l,h),l.experimental_prefetchInRender&&!we&&$s(h,r)){const g=c?Mt(l,u,a):(v=o.getQueryCache().get(l.queryHash))==null?void 0:v.promise;g==null||g.catch(_).finally(()=>{u.updateResult()})}return l.notifyOnChangeProps?h:u.trackResult(h)}function Ke(t,e){return Xs(t,Ms)}function gt(t,e){const s=tt(),[r]=C.useState(()=>new Ts(s,t));C.useEffect(()=>{r.setOptions(t)},[r,t]);const a=C.useSyncExternalStore(C.useCallback(l=>r.subscribe(E.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=C.useCallback((l,c)=>{r.mutate(l,c).catch(_)},[r]);if(a.error&&Jt(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}function Js(){const t=bt(),[e,s]=C.useState(!1),[r,a]=C.useState(null),[o,l]=C.useState({email:"",password:""}),c=h=>{l({...o,[h.target.name]:h.target.value})},u=async h=>{h.preventDefault(),s(!0),a(null);try{const{error:p}=await T.auth.signInWithPassword({email:o.email,password:o.password});if(p)throw p;t("/")}catch(p){a(p.message)}finally{s(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Entre na sua conta"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ou"," ",i.jsx(Z,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"crie uma nova conta"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[r&&i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsx("div",{className:"text-sm text-red-700",children:r})}),i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),i.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"input-field rounded-t-md",placeholder:"Email",value:o.email,onChange:c})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),i.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"input-field rounded-b-md",placeholder:"Senha",value:o.password,onChange:c})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:e,className:"btn-primary w-full",children:e?"Entrando...":"Entrar"})})]})]})})}function Ys(){const t=bt(),[e,s]=C.useState(!1),[r,a]=C.useState(null),[o,l]=C.useState({email:"",password:"",confirmPassword:""}),c=h=>{l({...o,[h.target.name]:h.target.value})},u=async h=>{if(h.preventDefault(),s(!0),a(null),o.password!==o.confirmPassword){a("As senhas não coincidem"),s(!1);return}try{const{error:p}=await T.auth.signUp({email:o.email,password:o.password});if(p)throw p;t("/login")}catch(p){a(p.message)}finally{s(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Crie sua conta"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ou"," ",i.jsx(Z,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"entre com sua conta existente"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[r&&i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsx("div",{className:"text-sm text-red-700",children:r})}),i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),i.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"input-field rounded-t-md",placeholder:"Email",value:o.email,onChange:c})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),i.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"input-field",placeholder:"Senha",value:o.password,onChange:c})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirmar Senha"}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"input-field rounded-b-md",placeholder:"Confirmar Senha",value:o.confirmPassword,onChange:c})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:e,className:"btn-primary w-full",children:e?"Criando conta...":"Criar conta"})})]})]})})}function Zs(){const{data:t,isLoading:e}=Ke({queryKey:["dashboard-stats"],queryFn:async()=>{const{data:s}=await T.from("questions").select("count").single(),{data:r}=await T.from("simulated_exams").select("count").single();return{questions:(s==null?void 0:s.count)||0,exams:(r==null?void 0:r.count)||0}}});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Bem-vindo ao Ponto Simulado"}),i.jsx("p",{className:"text-gray-600",children:"Sua plataforma completa para estudos de concursos públicos."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Estatísticas"}),e?i.jsx("p",{children:"Carregando..."}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-gray-600",children:["Questões disponíveis:"," ",i.jsx("span",{className:"font-semibold",children:t==null?void 0:t.questions})]}),i.jsxs("p",{className:"text-gray-600",children:["Simulados realizados:"," ",i.jsx("span",{className:"font-semibold",children:t==null?void 0:t.exams})]})]})]}),i.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ações Rápidas"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Z,{to:"/questions",className:"block w-full text-center btn-primary",children:"Ver Questões"}),i.jsx(Z,{to:"/simulated-exams",className:"block w-full text-center btn-secondary",children:"Criar Simulado"})]})]}),i.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Atividade Recente"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-gray-600",children:["Último simulado:"," ",i.jsx("span",{className:"font-semibold",children:"Não disponível"})]}),i.jsxs("p",{className:"text-gray-600",children:["Questões respondidas: ",i.jsx("span",{className:"font-semibold",children:"0"})]})]})]})]})]})}function er(){const[t,e]=C.useState({examBoard:"",subject:"",difficulty:"",year:""}),{data:s,isLoading:r}=Ke({queryKey:["questions",t],queryFn:async()=>{let o=T.from("questions").select("*");t.examBoard&&(o=o.eq("exam_board",t.examBoard)),t.subject&&(o=o.eq("subject",t.subject)),t.difficulty&&(o=o.eq("difficulty",t.difficulty)),t.year&&(o=o.eq("year",t.year));const{data:l,error:c}=await o;if(c)throw c;return l}}),a=o=>{e({...t,[o.target.name]:o.target.value})};return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Banco de Questões"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsxs("select",{name:"examBoard",value:t.examBoard,onChange:a,className:"input-field",children:[i.jsx("option",{value:"",children:"Todas as Bancas"}),i.jsx("option",{value:"CESPE",children:"CESPE/CEBRASPE"}),i.jsx("option",{value:"FGV",children:"FGV"}),i.jsx("option",{value:"QUADRIX",children:"QUADRIX"}),i.jsx("option",{value:"IBFC",children:"IBFC"}),i.jsx("option",{value:"IDECAN",children:"IDECAN"}),i.jsx("option",{value:"FCC",children:"FCC"})]}),i.jsxs("select",{name:"subject",value:t.subject,onChange:a,className:"input-field",children:[i.jsx("option",{value:"",children:"Todas as Disciplinas"}),i.jsx("option",{value:"Direito_Administrativo",children:"Direito Administrativo"}),i.jsx("option",{value:"Direito_Constitucional",children:"Direito Constitucional"}),i.jsx("option",{value:"Direito_Penal",children:"Direito Penal"}),i.jsx("option",{value:"Direito_Processual_Penal",children:"Direito Processual Penal"}),i.jsx("option",{value:"Direito_Civil",children:"Direito Civil"}),i.jsx("option",{value:"Direito_Processual_Civil",children:"Direito Processual Civil"})]}),i.jsxs("select",{name:"difficulty",value:t.difficulty,onChange:a,className:"input-field",children:[i.jsx("option",{value:"",children:"Todas as Dificuldades"}),i.jsx("option",{value:"facil",children:"Fácil"}),i.jsx("option",{value:"medio",children:"Médio"}),i.jsx("option",{value:"dificil",children:"Difícil"})]}),i.jsxs("select",{name:"year",value:t.year,onChange:a,className:"input-field",children:[i.jsx("option",{value:"",children:"Todos os Anos"}),Array.from({length:10},(o,l)=>new Date().getFullYear()-l).map(o=>i.jsx("option",{value:o,children:o},o))]})]}),r?i.jsx("p",{children:"Carregando questões..."}):(s==null?void 0:s.length)===0?i.jsx("p",{children:"Nenhuma questão encontrada com os filtros selecionados."}):i.jsx("div",{className:"space-y-4",children:s==null?void 0:s.map(o=>{var l;return i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("span",{className:"text-sm text-gray-500",children:[o.exam_board," - ",o.year]}),i.jsxs("span",{className:"text-sm text-gray-500",children:["Dificuldade: ",o.difficulty]})]}),i.jsx("p",{className:"text-gray-900 mb-4",children:o.text}),i.jsx("div",{className:"space-y-2",children:(l=o.alternatives)==null?void 0:l.map((c,u)=>i.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[i.jsxs("span",{className:"font-medium",children:[String.fromCharCode(65+u),"."]}),i.jsx("span",{children:c})]},u))})]},o.id)})})]})})}function tr(){const t=tt(),[e,s]=C.useState({examBoard:"",subject:"",questionCount:10,timeLimit:60}),{data:r,isLoading:a}=Ke({queryKey:["simulated-exams"],queryFn:async()=>{const{data:u,error:h}=await T.from("simulated_exams").select("*").order("created_at",{ascending:!1});if(h)throw h;return u}}),o=gt({mutationFn:async u=>{let h=T.from("questions").select("*");u.examBoard&&(h=h.eq("exam_board",u.examBoard)),u.subject&&(h=h.eq("subject",u.subject));const{data:p,error:f}=await h;if(f)throw f;const y=p.sort(()=>Math.random()-.5).slice(0,u.questionCount),{data:x,error:S}=await T.from("simulated_exams").insert({exam_board:u.examBoard,subject:u.subject,question_count:u.questionCount,time_limit:u.timeLimit,questions:y,status:"created"}).select().single();if(S)throw S;return x},onSuccess:()=>{t.invalidateQueries(["simulated-exams"])}}),l=u=>{s({...e,[u.target.name]:u.target.value})},c=u=>{u.preventDefault(),o.mutate(e)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Criar Novo Simulado"}),i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("select",{name:"examBoard",value:e.examBoard,onChange:l,className:"input-field",required:!0,children:[i.jsx("option",{value:"",children:"Selecione a Banca"}),i.jsx("option",{value:"CESPE",children:"CESPE/CEBRASPE"}),i.jsx("option",{value:"FGV",children:"FGV"}),i.jsx("option",{value:"QUADRIX",children:"QUADRIX"}),i.jsx("option",{value:"IBFC",children:"IBFC"}),i.jsx("option",{value:"IDECAN",children:"IDECAN"}),i.jsx("option",{value:"FCC",children:"FCC"})]}),i.jsxs("select",{name:"subject",value:e.subject,onChange:l,className:"input-field",required:!0,children:[i.jsx("option",{value:"",children:"Selecione a Disciplina"}),i.jsx("option",{value:"Direito_Administrativo",children:"Direito Administrativo"}),i.jsx("option",{value:"Direito_Constitucional",children:"Direito Constitucional"}),i.jsx("option",{value:"Direito_Penal",children:"Direito Penal"}),i.jsx("option",{value:"Direito_Processual_Penal",children:"Direito Processual Penal"}),i.jsx("option",{value:"Direito_Civil",children:"Direito Civil"}),i.jsx("option",{value:"Direito_Processual_Civil",children:"Direito Processual Civil"})]}),i.jsx("input",{type:"number",name:"questionCount",value:e.questionCount,onChange:l,className:"input-field",min:"1",max:"100",required:!0,placeholder:"Número de Questões"}),i.jsx("input",{type:"number",name:"timeLimit",value:e.timeLimit,onChange:l,className:"input-field",min:"1",required:!0,placeholder:"Tempo Limite (minutos)"})]}),i.jsx("button",{type:"submit",disabled:o.isLoading,className:"btn-primary w-full",children:o.isLoading?"Criando...":"Criar Simulado"})]})]}),i.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Meus Simulados"}),a?i.jsx("p",{children:"Carregando simulados..."}):(r==null?void 0:r.length)===0?i.jsx("p",{children:"Você ainda não criou nenhum simulado."}):i.jsx("div",{className:"space-y-4",children:r==null?void 0:r.map(u=>i.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900",children:[u.exam_board," - ",u.subject]}),i.jsxs("p",{className:"text-sm text-gray-500",children:[u.question_count," questões • ",u.time_limit," minutos"]})]}),i.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-primary-100 text-primary-800",children:u.status})]})},u.id))})]})]})}function sr(){const t=tt(),[e,s]=C.useState("users"),{data:r,isLoading:a}=Ke({queryKey:["users"],queryFn:async()=>{const{data:h,error:p}=await T.from("users").select("*").order("created_at",{ascending:!1});if(p)throw p;return h}}),o=gt({mutationFn:async({userId:h,newRole:p})=>{const{error:f}=await T.from("users").update({role:p}).eq("id",h);if(f)throw f},onSuccess:()=>{t.invalidateQueries(["users"])}}),{data:l,isLoading:c}=Ke({queryKey:["admin-questions"],queryFn:async()=>{const{data:h,error:p}=await T.from("questions").select("*").order("created_at",{ascending:!1});if(p)throw p;return h}}),u=gt({mutationFn:async h=>{const{error:p}=await T.from("questions").delete().eq("id",h);if(p)throw p},onSuccess:()=>{t.invalidateQueries(["admin-questions"])}});return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Painel Administrativo"}),i.jsx("div",{className:"border-b border-gray-200 mb-6",children:i.jsxs("nav",{className:"-mb-px flex space-x-8",children:[i.jsx("button",{onClick:()=>s("users"),className:`${e==="users"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Usuários"}),i.jsx("button",{onClick:()=>s("questions"),className:`${e==="questions"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Questões"})]})}),e==="users"&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gerenciar Usuários"}),a?i.jsx("p",{children:"Carregando usuários..."}):i.jsx("div",{className:"space-y-4",children:r==null?void 0:r.map(h=>i.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:h.email}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Criado em:"," ",new Date(h.created_at).toLocaleDateString()]})]}),i.jsxs("select",{value:h.role,onChange:p=>o.mutate({userId:h.id,newRole:p.target.value}),className:"input-field",children:[i.jsx("option",{value:"visitor",children:"Visitante"}),i.jsx("option",{value:"subscriber",children:"Assinante"}),i.jsx("option",{value:"admin",children:"Administrador"})]})]})},h.id))})]}),e==="questions"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Gerenciar Questões"}),i.jsx("button",{className:"btn-primary",children:"Adicionar Questão"})]}),c?i.jsx("p",{children:"Carregando questões..."}):i.jsx("div",{className:"space-y-4",children:l==null?void 0:l.map(h=>i.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-900 mb-2",children:h.text}),i.jsxs("div",{className:"flex space-x-4 text-sm text-gray-500",children:[i.jsx("span",{children:h.exam_board}),i.jsx("span",{children:h.subject}),i.jsxs("span",{children:["Dificuldade: ",h.difficulty]})]})]}),i.jsx("button",{onClick:()=>u.mutate(h.id),className:"text-red-600 hover:text-red-800",children:"Excluir"})]})},h.id))})]})]})})}function rr({session:t}){var o,l;const e=bt(),[s,r]=C.useState(!1),a=async()=>{await T.auth.signOut(),e("/login")};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("nav",{className:"bg-white shadow-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between h-16",children:[i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0 flex items-center",children:i.jsx(Z,{to:"/",className:"text-2xl font-bold text-primary-600",children:"Ponto Simulado"})}),i.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[i.jsx(Z,{to:"/",className:"border-transparent text-gray-500 hover:border-primary-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Dashboard"}),i.jsx(Z,{to:"/questions",className:"border-transparent text-gray-500 hover:border-primary-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Questões"}),i.jsx(Z,{to:"/simulated-exams",className:"border-transparent text-gray-500 hover:border-primary-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Simulados"}),((o=t==null?void 0:t.user)==null?void 0:o.email)==="hbrcomercialssa@gmail.com"&&i.jsx(Z,{to:"/admin",className:"border-transparent text-gray-500 hover:border-primary-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Admin"})]})]}),i.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:i.jsx("div",{className:"ml-3 relative",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("span",{className:"text-sm text-gray-700",children:(l=t==null?void 0:t.user)==null?void 0:l.email}),i.jsx("button",{onClick:a,className:"btn-secondary",children:"Sair"})]})})})]})})}),i.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:i.jsx(ls,{})})]})}const ir="https://aleppkgdylyzoijwgmah.supabase.co",nr="",T=ds(ir,nr);function ar(){var a;const[t,e]=C.useState(null),[s,r]=C.useState(!0);return C.useEffect(()=>{T.auth.getSession().then(({data:{session:l}})=>{e(l),r(!1)});const{data:{subscription:o}}=T.auth.onAuthStateChange((l,c)=>{e(c)});return()=>o.unsubscribe()},[]),s?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):i.jsxs(us,{children:[i.jsx(me,{path:"/login",element:t?i.jsx(rt,{to:"/"}):i.jsx(Js,{})}),i.jsx(me,{path:"/register",element:t?i.jsx(rt,{to:"/"}):i.jsx(Ys,{})}),i.jsxs(me,{element:i.jsx(rr,{session:t}),children:[i.jsx(me,{path:"/",element:i.jsx(Zs,{})}),i.jsx(me,{path:"/questions",element:i.jsx(er,{})}),i.jsx(me,{path:"/simulated-exams",element:i.jsx(tr,{})}),i.jsx(me,{path:"/admin",element:((a=t==null?void 0:t.user)==null?void 0:a.email)==="hbrcomercialssa@gmail.com"?i.jsx(sr,{}):i.jsx(rt,{to:"/"})})]})]})}const or=new As;nt.createRoot(document.getElementById("root")).render(i.jsx(cs.StrictMode,{children:i.jsx(Ls,{client:or,children:i.jsx(hs,{children:i.jsx(ar,{})})})}));
//# sourceMappingURL=index-Cqn8q6Iu.js.map
